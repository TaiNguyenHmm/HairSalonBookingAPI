@* /Pages/Admin/Dashboard.cshtml *@
@page
@model DashboardModel
@{
    Layout = "/Pages/Shared/_AdminLayout.cshtml";
    ViewData["Title"] = "Dashboard Overview";
}

<h2 class="text-xl font-semibold mb-4">Chào mừng Admin!</h2>

<!-- KPI Section -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md">
        <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Bookings hôm nay</p>
        <p class="text-3xl font-bold text-gray-900 dark:text-white">25</p>
    </div>
    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md">
        <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Doanh thu hôm nay</p>
        <p class="text-3xl font-bold text-gray-900 dark:text-white">5.200K</p>
    </div>
    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md">
        <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Tỉ lệ No-show (tháng)</p>
        <p class="text-3xl font-bold text-gray-900 dark:text-white">8.5%</p>
    </div>
    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md">
        <p class="text-sm font-medium text-gray-500 dark:text-gray-400">Rating trung bình</p>
        <p class="text-3xl font-bold text-gray-900 dark:text-white">4.8/5</p>
    </div>
</div>

<!-- Charts & To-do list -->
<div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    <!-- Revenue Chart -->
    <div class="lg:col-span-2 bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md">
        <h2 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Doanh thu theo Dịch vụ (tháng)</h2>
        <canvas id="revenueChart"></canvas>
    </div>

    <!-- To-do list -->
    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md">
        <h2 class="text-lg font-semibold text-gray-800 dark:text-white mb-4">Việc cần làm</h2>
        <ul class="space-y-4">
            <li class="flex items-start">
                <div class="w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                <div>
                    <p class="font-medium text-gray-800 dark:text-gray-200">Xác nhận 5 bookings <span class="text-sm text-gray-500 dark:text-gray-400">(Pending)</span></p>
                    <a href="#" class="text-sm text-indigo-600 hover:underline">Xem chi tiết</a>
                </div>
            </li>
            <li class="flex items-start">
                <div class="w-2 h-2 bg-yellow-500 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                <div>
                    <p class="font-medium text-gray-800 dark:text-gray-200">Stylist Nguyễn Văn A sắp quá tải</p>
                    <p class="text-sm text-gray-500 dark:text-gray-400">Đã book 90% giờ làm hôm nay</p>
                </div>
            </li>
            <li class="flex items-start">
                <div class="w-2 h-2 bg-red-500 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                <div>
                    <p class="font-medium text-gray-800 dark:text-gray-200">Gửi nhắc hẹn thất bại</p>
                    <p class="text-sm text-gray-500 dark:text-gray-400">Booking #125 - KH Trần Thị B</p>
                </div>
            </li>
            <li class="flex items-start">
                <div class="w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                <div>
                    <p class="font-medium text-gray-800 dark:text-gray-200">2 review mới cần duyệt</p>
                    <a href="#" class="text-sm text-indigo-600 hover:underline">Xem ngay</a>
                </div>
            </li>
        </ul>
    </div>
</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const revenueData = {
                labels: ['Cắt tóc nam', 'Cắt tóc nữ', 'Gội + Cắt', 'Uốn nhẹ', 'Nhuộm tóc', 'Dịch vụ khác'],
                datasets: [{
                    label: 'Doanh thu (K VNĐ)',
                    data: [12000, 19000, 8000, 15000, 22000, 3000],
                    backgroundColor: 'rgba(79, 70, 229, 0.8)',
                    borderColor: 'rgba(79, 70, 229, 1)',
                    borderWidth: 1,
                    borderRadius: 5
                }]
            };

            const config = {
                type: 'bar',
                data: revenueData,
                options: {
                    responsive: true,
                    scales: { y: { beginAtZero: true } },
                    plugins: { legend: { display: false } }
                }
            };

            new Chart(document.getElementById('revenueChart'), config);
        });
    </script>
}
